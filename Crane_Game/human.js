
/*몸통: 60개의 vertex*/
var torso = [

    //x=1인 면(12)
    vec4(2/3,1,1,1),
    vec4(2/3,1,-1,1),
    vec4(1,2/3,-1,1),
    vec4(2/3,1,1,1),
    vec4(1,2/3,1,1),
    vec4(1,2/3,-1,1),

    vec4(1,2/3,1,1),
    vec4(1,2/3,-1,1),
    vec4(2/3,-1,-1,1),
    vec4(1,2/3,1,1),
    vec4(2/3,-1,1,1),
    vec4(2/3,-1,-1,1),

    //x=-1인 면(12)
    vec4(-2/3,1,1,1),
    vec4(-2/3,1,-1,1),
    vec4(-1,2/3,-1,1),
    vec4(-2/3,1,1,1),
    vec4(-1,2/3,1,1),
    vec4(-1,2/3,-1,1),

    vec4(-1,2/3,1,1),
    vec4(-1,2/3,-1,1),
    vec4(-2/3,-1,-1,1),
    vec4(-1,2/3,1,1),
    vec4(-2/3,-1,1,1),
    vec4(-2/3,-1,-1,1),

    //y=1인 면(6)
    vec4(-2/3,1,-1,1),
    vec4(2/3,1,-1,1),
    vec4(2/3,1,1,1),
    vec4(-2/3,1,-1,1),
    vec4(-2/3,1,1,1),
    vec4(2/3,1,1,1),

    //y=-1인 면(6)
    vec4(-2/3,-1,-1,1),
    vec4(2/3,-1,-1,1),
    vec4(2/3,-1,1,1),
    vec4(-2/3,-1,-1,1),
    vec4(-2/3,-1,1,1),
    vec4(2/3,-1,1,1),

    //z=1인 면(12)
    vec4(-1,2/3,1,1),
    vec4(-2/3,1,1,1),
    vec4(-2/3,-1,1,1),
    vec4(1,2/3,1,1),
    vec4(2/3,1,1,1),
    vec4(2/3,-1,1,1),

    vec4(-2/3,1,1,1),
    vec4(-2/3,-1,1,1),
    vec4(2/3,-1,1,1),
    vec4(-2/3,1,1,1),
    vec4(2/3,1,1,1),
    vec4(2/3,-1,1,1),

    //z=-1인 면(12)
    vec4(-1,2/3,-1,1),
    vec4(-2/3,1,-1,1),
    vec4(-2/3,-1,-1,1),
    vec4(1,2/3,-1,1),
    vec4(2/3,1,-1,1),
    vec4(2/3,-1,-1,1),

    vec4(-2/3,1,-1,1),
    vec4(-2/3,-1,-1,1),
    vec4(2/3,-1,-1,1),
    vec4(-2/3,1,-1,1),
    vec4(2/3,1,-1,1),
    vec4(2/3,-1,-1,1),

]

/*머리의 base vector들: 4개의 vertex*/
var head_base = [

    vec4(0,0,-1,1),
    vec4(0,0.942809,0.333333,1),
    vec4(-0.816497,-0.471405,0.333333,1),
    vec4(0.816497,-0.471405,0.333333,1),

]

/*머리: n개의 vertex*/
//tetrahedron()을 호출하면 제대로 된 머리 vertex들이 head[]에 push됨
var head = []
var head_index = 0
var numTimesToSubdivide = 3;
//tetrahedron(head_base[0],head_base[1],head_base[2],head_base[3],numTimesToSubdivide)

/*윗팔-왼쪽: 60개의 vertex*/
var upperArmLeft = [

    //대각선 면(6)
    vec4(-1/3,1,-1,1),
    vec4(-1/3,1,1,1),
    vec4(-1,3/4,1,1),
    vec4(-1/3,1,-1,1),
    vec4(-1,3/4,-1,1),
    vec4(-1,3/4,1,1),

    //x=-1인 면(6)
    vec4(1,1,-1,1),
    vec4(1,1,1,1),
    vec4(1-1,1,1),
    vec4(1,1,-1,1),
    vec4(1,-1,-1,1),
    vec4(1-1,1,1),

    //x=-1인 면(6)
    vec4(-1,3/4,-1,1),
    vec4(-1,3/4,1,1),
    vec4(-1,-1,1,1),
    vec4(-1,3/4,-1,1),
    vec4(-1,-1,-1,1),
    vec4(-1,-1,1,1),

    //y=1인 면(6)
    vec4(1,1,-1,1),
    vec4(-1/3,1,-1,1),
    vec4(-1/3,1,1,1),
    vec4(1,1,-1,1),
    vec4(1,1,1,1),
    vec4(-1/3,1,1,1),

    //y=-1인 면(6)
    vec4(-1,-1,-1,1),
    vec4(1,-1,-1,1),
    vec4(1,-1,1,1),
    vec4(-1,-1,-1,1),
    vec4(-1,-1,1,1),
    vec4(1,-1,1,1),

    //z=1인 면(15)
    vec4(1,1,1,1),
    vec4(1,-1,1,1),
    vec4(-1/3,-1,1,1),
    vec4(1,1,1,1),
    vec4(-1/3,1,1,1),
    vec4(-1/3,-1,1,1),

    vec4(-1/3,1,1,1),
    vec4(-1,3/4,1,1),
    vec4(-1/3,3/4,1,1),

    vec4(-1/3,3/4,1,1),
    vec4(-1,3/4,1,1),
    vec4(-1,-1,1,1),
    vec4(-1/3,3/4,1,1),
    vec4(-1/3,-1,1,1),
    vec4(-1,-1,1,1),

    //z=-1인 면(15)
    vec4(1,1,-1,1),
    vec4(1,-1,-1,1),
    vec4(-1/3,-1,-1,1),
    vec4(1,1,-1,1),
    vec4(-1/3,1,-1,1),
    vec4(-1/3,-1,-1,1),

    vec4(-1/3,1,-1,1),
    vec4(-1,3/4,-1,1),
    vec4(-1/3,3/4,-1,1),

    vec4(-1/3,3/4,-1,1),
    vec4(-1,3/4,-1,1),
    vec4(-1,-1,-1,1),
    vec4(-1/3,3/4,-1,1),
    vec4(-1/3,-1,-1,1),
    vec4(-1,-1,-1,1),

]

/*윗팔-오른쪽: 60개의 vertex*/
var upperArmRight = [

    //대각선 면(6)
    vec4(1/3,1,-1,1),
    vec4(1/3,1,1,1),
    vec4(1,3/4,1,1),
    vec4(1/3,1,-1,1),
    vec4(1,3/4,-1,1),
    vec4(1,3/4,1,1),

    //x=1인 면(6)
    vec4(1,3/4,-1,1),
    vec4(1,3/4,1,1),
    vec4(1,-1,1,1),
    vec4(1,3/4,-1,1),
    vec4(1,-1,-1,1),
    vec4(1,-1,1,1),

    //x=-1인 면(6)
    vec4(-1,1,-1,1),
    vec4(-1,1,1,1),
    vec4(-1-1,1,1),
    vec4(-1,1,-1,1),
    vec4(-1,-1,-1,1),
    vec4(-1-1,1,1),

    //y=1인 면(6)
    vec4(-1,1,-1,1),
    vec4(1/3,1,-1,1),
    vec4(1/3,1,1,1),
    vec4(-1,1,-1,1),
    vec4(-1,1,1,1),
    vec4(1/3,1,1,1),

    //y=-1인 면(6)
    vec4(-1,-1,-1,1),
    vec4(1,-1,-1,1),
    vec4(1,-1,1,1),
    vec4(-1,-1,-1,1),
    vec4(-1,-1,1,1),
    vec4(1,-1,1,1),

    //z=1인 면(15)
    vec4(-1,1,1,1),
    vec4(-1,-1,1,1),
    vec4(1/3,-1,1,1),
    vec4(-1,1,1,1),
    vec4(1/3,1,1,1),
    vec4(1/3,-1,1,1),

    vec4(1/3,1,1,1),
    vec4(1,3/4,1,1),
    vec4(1/3,3/4,1,1),

    vec4(1/3,3/4,1,1),
    vec4(1,3/4,1,1),
    vec4(1,-1,1,1),
    vec4(1/3,3/4,1,1),
    vec4(1/3,-1,1,1),
    vec4(1,-1,1,1),

    //z=-1인 면(15)
    vec4(-1,1,-1,1),
    vec4(-1,-1,-1,1),
    vec4(1/3,-1,-1,1),
    vec4(-1,1,-1,1),
    vec4(1/3,1,-1,1),
    vec4(1/3,-1,-1,1),

    vec4(1/3,1,-1,1),
    vec4(1,3/4,-1,1),
    vec4(1/3,3/4,-1,1),

    vec4(1/3,3/4,-1,1),
    vec4(1,3/4,-1,1),
    vec4(1,-1,-1,1),
    vec4(1/3,3/4,-1,1),
    vec4(1/3,-1,-1,1),
    vec4(1,-1,-1,1),

]

/*아랫팔-왼쪽: 36개의 vertex*/
var lowerArmLeft = [
        
    //x=1인 면
    vec4(1,1,1,1),
    vec4(1,1,-1,1),
    vec4(1,-1,-1,1),
    vec4(1,1,1,1),
    vec4(1,-1,1,1),
    vec4(1,-1,-1,1),

    //x=-1인 면
    vec4(-1,1,1,1),
    vec4(-1,1,-1,1),
    vec4(-1,-1,-1,1),
    vec4(-1,1,1,1),
    vec4(-1,-1,1,1),
    vec4(-1,-1,-1,1),

    //y=1인 면
    vec4(-1,1,-1,1),
    vec4(1,1,-1,1),
    vec4(1,1,1,1),
    vec4(-1,1,-1,1),
    vec4(-1,1,1,1),
    vec4(1,1,1,1),

    //y=-1인 면
    vec4(-1,-1,-1,1),
    vec4(1,-1,-1,1),
    vec4(1,-1,1,1),
    vec4(-1,-1,-1,1),
    vec4(-1,-1,1,1),
    vec4(1,-1,1,1),

    //z=1인 면
    vec4(-1,1,1,1),
    vec4(-1,-1,1,1),
    vec4(1,-1,1,1),
    vec4(-1,1,1,1),
    vec4(1,1,1,1),
    vec4(1,-1,1,1),

    //z=-1인 면
    vec4(-1,1,-1,1),
    vec4(-1,-1,-1,1),
    vec4(1,-1,-1,1),
    vec4(-1,1,-1,1),
    vec4(1,1,-1,1),
    vec4(1,-1,-1,1),
]

/*아랫팔-오른쪽: 36개의 vertex*/
var lowerArmRight = [
        
    //x=1인 면
    vec4(1,1,1,1),
    vec4(1,1,-1,1),
    vec4(1,-1,-1,1),
    vec4(1,1,1,1),
    vec4(1,-1,1,1),
    vec4(1,-1,-1,1),

    //x=-1인 면
    vec4(-1,1,1,1),
    vec4(-1,1,-1,1),
    vec4(-1,-1,-1,1),
    vec4(-1,1,1,1),
    vec4(-1,-1,1,1),
    vec4(-1,-1,-1,1),

    //y=1인 면
    vec4(-1,1,-1,1),
    vec4(1,1,-1,1),
    vec4(1,1,1,1),
    vec4(-1,1,-1,1),
    vec4(-1,1,1,1),
    vec4(1,1,1,1),

    //y=-1인 면
    vec4(-1,-1,-1,1),
    vec4(1,-1,-1,1),
    vec4(1,-1,1,1),
    vec4(-1,-1,-1,1),
    vec4(-1,-1,1,1),
    vec4(1,-1,1,1),

    //z=1인 면
    vec4(-1,1,1,1),
    vec4(-1,-1,1,1),
    vec4(1,-1,1,1),
    vec4(-1,1,1,1),
    vec4(1,1,1,1),
    vec4(1,-1,1,1),

    //z=-1인 면
    vec4(-1,1,-1,1),
    vec4(-1,-1,-1,1),
    vec4(1,-1,-1,1),
    vec4(-1,1,-1,1),
    vec4(1,1,-1,1),
    vec4(1,-1,-1,1),
]

/*하체몸통: 108개의 vertex*/
var pelvis = [

    //대각선 면, x=1쪽(6)
    vec4(1,-1/3,-1,1),
    vec4(1,-1/3,1,1),
    vec4(3/4,-1,1,1),
    vec4(1,-1/3,-1,1),
    vec4(3/4,-1,-1,1),
    vec4(3/4,-1,1,1),

    //대각선 면, x=-1쪽(6)
    vec4(-1,-1/3,-1,1),
    vec4(-1,-1/3,1,1),
    vec4(-3/4,-1,1,1),
    vec4(-1,-1/3,-1,1),
    vec4(-3/4,-1,-1,1),
    vec4(-3/4,-1,1,1),

    //x=1인 면(6)
    vec4(1,1,-1,1),
    vec4(1,1,1,1),
    vec4(1,-1/3,1,1),
    vec4(1,1,-1,1),
    vec4(1,-1/3,-1,1),
    vec4(1,-1/3,1,1),

    //x=-1인 면(6)
    vec4(-1,1,-1,1),
    vec4(-1,1,1,1),
    vec4(-1,-1/3,1,1),
    vec4(-1,1,-1,1),
    vec4(-1,-1/3,-1,1),
    vec4(-1,-1/3,1,1),

    //y=1인 면(6)
    vec4(-1,1,-1,1),
    vec4(1,1,-1,1),
    vec4(1,1,1,1),
    vec4(-1,1,-1,1),
    vec4(-1,1,1,1),
    vec4(1,1,1,1),

    //y=-1인 면(6)
    vec4(-3/4,-1,-1,1),
    vec4(3/4,-1,-1,1),
    vec4(3/4,-1,1,1),
    vec4(-3/4,-1,-1,1),
    vec4(-3/4,-1,1,1),
    vec4(3/4,-1,1,1),

    //z=1인 면(36)
    vec4(-1,1,1,1),
    vec4(1,1,1,1),
    vec4(1,1/3,1,1),
    vec4(-1,1,1,1),
    vec4(-1,1/3,1,1),
    vec4(1,1/3,1,1),

    vec4(-3/4,-1/3,1,1),
    vec4(3/4,1/3,1,1),
    vec4(3/4,-1,1,1),
    vec4(-3/4,-1/3,1,1),
    vec4(-3/4,-1,1,1),
    vec4(3/4,-1,1,1),

    vec4(1,-1/3,1,1),
    vec4(3/4,-1/3,1,1),
    vec4(3/4,-1,1,1),
    vec4(1,-1/3,1,1),
    vec4(3/4,-1/3,1,1),
    vec4(3/4,-1,1,1),

    //z=-1인 면(36)
    vec4(-1,1,-1,1),
    vec4(1,1,-1,1),
    vec4(1,1/3,-1,1),
    vec4(-1,1,-1,1),
    vec4(-1,1/3,-1,1),
    vec4(1,1/3,-1,1),

    vec4(-3/4,-1/3,-1,1),
    vec4(3/4,1/3,-1,1),
    vec4(3/4,-1,-1,1),
    vec4(-3/4,-1/3,-1,1),
    vec4(-3/4,-1,-1,1),
    vec4(3/4,-1,-1,1),

    vec4(1,-1/3,-1,1),
    vec4(3/4,-1/3,-1,1),
    vec4(3/4,-1,-1,1),
    vec4(1,-1/3,-1,1),
    vec4(3/4,-1/3,-1,1),
    vec4(3/4,-1,-1,1),

]

/*왼쪽 허벅지: 36개의 vertex*/
var thighLeft = [

    //x=1인 면
    vec4(1,1,1,1),
    vec4(1,1,-1,1),
    vec4(1,-1,-1,1),
    vec4(1,1,1,1),
    vec4(1,-1,1,1),
    vec4(1,-1,-1,1),

    //x=-1인 면
    vec4(-1,1,1,1),
    vec4(-1,1,-1,1),
    vec4(-1,-1,-1,1),
    vec4(-1,1,1,1),
    vec4(-1,-1,1,1),
    vec4(-1,-1,-1,1),

    //y=1인 면
    vec4(-1,1,-1,1),
    vec4(1,1,-1,1),
    vec4(1,1,1,1),
    vec4(-1,1,-1,1),
    vec4(-1,1,1,1),
    vec4(1,1,1,1),

    //y=-1인 면
    vec4(-1,-1,-1,1),
    vec4(1,-1,-1,1),
    vec4(1,-1,1,1),
    vec4(-1,-1,-1,1),
    vec4(-1,-1,1,1),
    vec4(1,-1,1,1),

    //z=1인 면
    vec4(-1,1,1,1),
    vec4(-1,-1,1,1),
    vec4(1,-1,1,1),
    vec4(-1,1,1,1),
    vec4(1,1,1,1),
    vec4(1,-1,1,1),

    //z=-1인 면
    vec4(-1,1,-1,1),
    vec4(-1,-1,-1,1),
    vec4(1,-1,-1,1),
    vec4(-1,1,-1,1),
    vec4(1,1,-1,1),
    vec4(1,-1,-1,1),
]

/*오른쪽 허벅지: 36개의 vertex*/
var thighRight = [
        
    //x=1인 면
    vec4(1,1,1,1),
    vec4(1,1,-1,1),
    vec4(1,-1,-1,1),
    vec4(1,1,1,1),
    vec4(1,-1,1,1),
    vec4(1,-1,-1,1),

    //x=-1인 면
    vec4(-1,1,1,1),
    vec4(-1,1,-1,1),
    vec4(-1,-1,-1,1),
    vec4(-1,1,1,1),
    vec4(-1,-1,1,1),
    vec4(-1,-1,-1,1),

    //y=1인 면
    vec4(-1,1,-1,1),
    vec4(1,1,-1,1),
    vec4(1,1,1,1),
    vec4(-1,1,-1,1),
    vec4(-1,1,1,1),
    vec4(1,1,1,1),

    //y=-1인 면
    vec4(-1,-1,-1,1),
    vec4(1,-1,-1,1),
    vec4(1,-1,1,1),
    vec4(-1,-1,-1,1),
    vec4(-1,-1,1,1),
    vec4(1,-1,1,1),

    //z=1인 면
    vec4(-1,1,1,1),
    vec4(-1,-1,1,1),
    vec4(1,-1,1,1),
    vec4(-1,1,1,1),
    vec4(1,1,1,1),
    vec4(1,-1,1,1),

    //z=-1인 면
    vec4(-1,1,-1,1),
    vec4(-1,-1,-1,1),
    vec4(1,-1,-1,1),
    vec4(-1,1,-1,1),
    vec4(1,1,-1,1),
    vec4(1,-1,-1,1),
]

/*왼쪽 종아리: 36개의 vertex*/
var calfLeft = [
        
    //x=1인 면
    vec4(1,1,1,1),
    vec4(1,1,-1,1),
    vec4(1,-1,-1,1),
    vec4(1,1,1,1),
    vec4(1,-1,1,1),
    vec4(1,-1,-1,1),

    //x=-1인 면
    vec4(-1,1,1,1),
    vec4(-1,1,-1,1),
    vec4(-1,-1,-1,1),
    vec4(-1,1,1,1),
    vec4(-1,-1,1,1),
    vec4(-1,-1,-1,1),

    //y=1인 면
    vec4(-1,1,-1,1),
    vec4(1,1,-1,1),
    vec4(1,1,1,1),
    vec4(-1,1,-1,1),
    vec4(-1,1,1,1),
    vec4(1,1,1,1),

    //y=-1인 면
    vec4(-1,-1,-1,1),
    vec4(1,-1,-1,1),
    vec4(1,-1,1,1),
    vec4(-1,-1,-1,1),
    vec4(-1,-1,1,1),
    vec4(1,-1,1,1),

    //z=1인 면
    vec4(-1,1,1,1),
    vec4(-1,-1,1,1),
    vec4(1,-1,1,1),
    vec4(-1,1,1,1),
    vec4(1,1,1,1),
    vec4(1,-1,1,1),

    //z=-1인 면
    vec4(-1,1,-1,1),
    vec4(-1,-1,-1,1),
    vec4(1,-1,-1,1),
    vec4(-1,1,-1,1),
    vec4(1,1,-1,1),
    vec4(1,-1,-1,1),
]

/*오른쪽 종아리: 36개의 vertex*/
var calfRight = [
        
    //x=1인 면
    vec4(1,1,1,1),
    vec4(1,1,-1,1),
    vec4(1,-1,-1,1),
    vec4(1,1,1,1),
    vec4(1,-1,1,1),
    vec4(1,-1,-1,1),

    //x=-1인 면
    vec4(-1,1,1,1),
    vec4(-1,1,-1,1),
    vec4(-1,-1,-1,1),
    vec4(-1,1,1,1),
    vec4(-1,-1,1,1),
    vec4(-1,-1,-1,1),

    //y=1인 면
    vec4(-1,1,-1,1),
    vec4(1,1,-1,1),
    vec4(1,1,1,1),
    vec4(-1,1,-1,1),
    vec4(-1,1,1,1),
    vec4(1,1,1,1),

    //y=-1인 면
    vec4(-1,-1,-1,1),
    vec4(1,-1,-1,1),
    vec4(1,-1,1,1),
    vec4(-1,-1,-1,1),
    vec4(-1,-1,1,1),
    vec4(1,-1,1,1),

    //z=1인 면
    vec4(-1,1,1,1),
    vec4(-1,-1,1,1),
    vec4(1,-1,1,1),
    vec4(-1,1,1,1),
    vec4(1,1,1,1),
    vec4(1,-1,1,1),

    //z=-1인 면
    vec4(-1,1,-1,1),
    vec4(-1,-1,-1,1),
    vec4(1,-1,-1,1),
    vec4(-1,1,-1,1),
    vec4(1,1,-1,1),
    vec4(1,-1,-1,1),
]

/*왼쪽 발: 36개의 vertex*/
var footLeft = [

    //x=1인 면
    vec4(1,1,1,1),
    vec4(1,1,-1,1),
    vec4(1,-1,-1,1),
    vec4(1,1,1,1),
    vec4(1,-1,1,1),
    vec4(1,-1,-1,1),

    //x=-1인 면
    vec4(-1,1,1,1),
    vec4(-1,1,-1,1),
    vec4(-1,-1,-1,1),
    vec4(-1,1,1,1),
    vec4(-1,-1,1,1),
    vec4(-1,-1,-1,1),

    //y=1인 면
    vec4(-1,1,-1,1),
    vec4(1,1,-1,1),
    vec4(1,1,1,1),
    vec4(-1,1,-1,1),
    vec4(-1,1,1,1),
    vec4(1,1,1,1),

    //y=-1인 면
    vec4(-1,-1,-1,1),
    vec4(1,-1,-1,1),
    vec4(1,-1,1,1),
    vec4(-1,-1,-1,1),
    vec4(-1,-1,1,1),
    vec4(1,-1,1,1),

    //z=1인 면
    vec4(-1,1,1,1),
    vec4(-1,-1,1,1),
    vec4(1,-1,1,1),
    vec4(-1,1,1,1),
    vec4(1,1,1,1),
    vec4(1,-1,1,1),

    //z=-1인 면
    vec4(-1,1,-1,1),
    vec4(-1,-1,-1,1),
    vec4(1,-1,-1,1),
    vec4(-1,1,-1,1),
    vec4(1,1,-1,1),
    vec4(1,-1,-1,1),
]

/*오른쪽 발: 36개의 vertex*/
var footRight = [

    //x=1인 면
    vec4(1,1,1,1),
    vec4(1,1,-1,1),
    vec4(1,-1,-1,1),
    vec4(1,1,1,1),
    vec4(1,-1,1,1),
    vec4(1,-1,-1,1),

    //x=-1인 면
    vec4(-1,1,1,1),
    vec4(-1,1,-1,1),
    vec4(-1,-1,-1,1),
    vec4(-1,1,1,1),
    vec4(-1,-1,1,1),
    vec4(-1,-1,-1,1),

    //y=1인 면
    vec4(-1,1,-1,1),
    vec4(1,1,-1,1),
    vec4(1,1,1,1),
    vec4(-1,1,-1,1),
    vec4(-1,1,1,1),
    vec4(1,1,1,1),

    //y=-1인 면
    vec4(-1,-1,-1,1),
    vec4(1,-1,-1,1),
    vec4(1,-1,1,1),
    vec4(-1,-1,-1,1),
    vec4(-1,-1,1,1),
    vec4(1,-1,1,1),

    //z=1인 면
    vec4(-1,1,1,1),
    vec4(-1,-1,1,1),
    vec4(1,-1,1,1),
    vec4(-1,1,1,1),
    vec4(1,1,1,1),
    vec4(1,-1,1,1),

    //z=-1인 면
    vec4(-1,1,-1,1),
    vec4(-1,-1,-1,1),
    vec4(1,-1,-1,1),
    vec4(-1,1,-1,1),
    vec4(1,1,-1,1),
    vec4(1,-1,-1,1),
]

function tetrahedron(a, b, c, d, n){
    divideTriangle(a,b,c,n);
    divideTriangle(d,c,b,n);
    divideTriangle(a,d,b,n);
    divideTriangle(a,c,d,n);
}

function divideTriangle(a,b,c,count){
    if(count > 0){
        var ab = normalize(mix(a,b,0.5), true);
        var ac = normalize(mix(a,c,0.5), true);
        var bc = normalize(mix(b,c,0.5), true);
        divideTriangle(a,ab,ac,count-1);
        divideTriangle(ab,b,bc,count-1);
        divideTriangle(bc,c,ac,count-1);
        divideTriangle(ab,bc,ac,count-1);
    }
    else{
        triangle(a,b,c);
    }
}

function triangle(a,b,c){
    head.push(vec4(a));
    head.push(vec4(b));
    head.push(vec4(c));
    head_index += 3;
}
